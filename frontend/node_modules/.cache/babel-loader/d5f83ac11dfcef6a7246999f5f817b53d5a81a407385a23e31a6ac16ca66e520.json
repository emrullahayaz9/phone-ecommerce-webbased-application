{"ast":null,"code":"'use strict';\n\n/**\n * Module dependencies.\n */\nconst {\n  agent: Agent\n} = require('superagent');\nconst methods = require('methods');\nconst http = require('http');\nlet http2;\ntry {\n  http2 = require('http2'); // eslint-disable-line global-require\n} catch (_) {\n  // eslint-disable-line no-empty\n}\nconst Test = require('./test.js');\n\n/**\n * Initialize a new `TestAgent`.\n *\n * @param {Function|Server} app\n * @param {Object} options\n * @api public\n */\n\nfunction TestAgent(app, options = {}) {\n  if (!(this instanceof TestAgent)) return new TestAgent(app, options);\n  Agent.call(this, options);\n  this._options = options;\n  if (typeof app === 'function') {\n    if (options.http2) {\n      if (!http2) {\n        throw new Error('supertest: this version of Node.js does not support http2');\n      }\n      app = http2.createServer(app); // eslint-disable-line no-param-reassign\n    } else {\n      app = http.createServer(app); // eslint-disable-line no-param-reassign\n    }\n  }\n  this.app = app;\n}\n\n/**\n * Inherits from `Agent.prototype`.\n */\n\nObject.setPrototypeOf(TestAgent.prototype, Agent.prototype);\n\n// set a host name\nTestAgent.prototype.host = function (host) {\n  this._host = host;\n  return this;\n};\n\n// override HTTP verb methods\nmethods.forEach(function (method) {\n  TestAgent.prototype[method] = function (url, fn) {\n    // eslint-disable-line no-unused-vars\n    const req = new Test(this.app, method.toUpperCase(), url);\n    if (this._options.http2) {\n      req.http2();\n    }\n    if (this._host) {\n      req.set('host', this._host);\n    }\n    req.on('response', this._saveCookies.bind(this));\n    req.on('redirect', this._saveCookies.bind(this));\n    req.on('redirect', this._attachCookies.bind(this, req));\n    this._setDefaults(req);\n    this._attachCookies(req);\n    return req;\n  };\n});\nTestAgent.prototype.del = TestAgent.prototype.delete;\n\n/**\n * Expose `Agent`.\n */\n\nmodule.exports = TestAgent;","map":{"version":3,"names":["agent","Agent","require","methods","http","http2","_","Test","TestAgent","app","options","call","_options","Error","createServer","Object","setPrototypeOf","prototype","host","_host","forEach","method","url","fn","req","toUpperCase","set","on","_saveCookies","bind","_attachCookies","_setDefaults","del","delete","module","exports"],"sources":["/home/emrullahayaz/Desktop/node-ecommerce-app/frontend/demo/node_modules/supertest/lib/agent.js"],"sourcesContent":["'use strict';\n\n/**\n * Module dependencies.\n */\n\nconst { agent: Agent } = require('superagent');\nconst methods = require('methods');\nconst http = require('http');\nlet http2;\ntry {\n  http2 = require('http2'); // eslint-disable-line global-require\n} catch (_) {\n  // eslint-disable-line no-empty\n}\nconst Test = require('./test.js');\n\n/**\n * Initialize a new `TestAgent`.\n *\n * @param {Function|Server} app\n * @param {Object} options\n * @api public\n */\n\nfunction TestAgent(app, options = {}) {\n  if (!(this instanceof TestAgent)) return new TestAgent(app, options);\n\n  Agent.call(this, options);\n  this._options = options;\n\n  if (typeof app === 'function') {\n    if (options.http2) {\n      if (!http2) {\n        throw new Error(\n          'supertest: this version of Node.js does not support http2'\n        );\n      }\n      app = http2.createServer(app); // eslint-disable-line no-param-reassign\n    } else {\n      app = http.createServer(app); // eslint-disable-line no-param-reassign\n    }\n  }\n  this.app = app;\n}\n\n/**\n * Inherits from `Agent.prototype`.\n */\n\nObject.setPrototypeOf(TestAgent.prototype, Agent.prototype);\n\n// set a host name\nTestAgent.prototype.host = function(host) {\n  this._host = host;\n  return this;\n};\n\n// override HTTP verb methods\nmethods.forEach(function(method) {\n  TestAgent.prototype[method] = function(url, fn) { // eslint-disable-line no-unused-vars\n    const req = new Test(this.app, method.toUpperCase(), url);\n    if (this._options.http2) {\n      req.http2();\n    }\n\n    if (this._host) {\n      req.set('host', this._host);\n    }\n\n    req.on('response', this._saveCookies.bind(this));\n    req.on('redirect', this._saveCookies.bind(this));\n    req.on('redirect', this._attachCookies.bind(this, req));\n    this._setDefaults(req);\n    this._attachCookies(req);\n\n    return req;\n  };\n});\n\nTestAgent.prototype.del = TestAgent.prototype.delete;\n\n/**\n * Expose `Agent`.\n */\n\nmodule.exports = TestAgent;\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}